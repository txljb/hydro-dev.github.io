(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{519:function(t,v,_){"use strict";_.r(v);var e=_(1),r=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"使用内容分发网络"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#使用内容分发网络"}},[t._v("#")]),t._v(" 使用内容分发网络")]),t._v(" "),_("h2",{attrs:{id:"资源-cdn"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#资源-cdn"}},[t._v("#")]),t._v(" 资源 CDN")]),t._v(" "),_("p",[t._v("在控制面板中将 "),_("code",[t._v("server.cdn")]),t._v(" 设置项修改为 CDN 域名。（如 "),_("code",[t._v("https://cdn.hydro.ac/")]),t._v("，以 "),_("code",[t._v("/")]),t._v(" 结尾）。")]),t._v(" "),_("div",{staticClass:"custom-block tip"},[_("p",{staticClass:"custom-block-title"},[t._v("Tips")]),t._v(" "),_("p",[t._v("您可以使用 "),_("code",[t._v("https://cdn.jsdelivr.net/npm/@hydrooj/ui-default@[version]/public/")]),t._v(" 作为 CDN 地址。"),_("br"),t._v("\n（请替换 "),_("code",[t._v("[version]")]),t._v(" 为您本地安装的 "),_("code",[t._v("ui-default")]),t._v(" 插件版本）"),_("br"),t._v("\n但由于在中国大陆访问 jsdelivr 的速度较慢（甚至在部分地区不可用），该 CDN 可能会影响用户体验。")])]),t._v(" "),_("h2",{attrs:{id:"全站-cdn"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#全站-cdn"}},[t._v("#")]),t._v(" 全站 CDN")]),t._v(" "),_("p",[t._v("如果您预算充足，可以使用全站 CDN。")]),t._v(" "),_("p",[t._v("缓存设置可以参考以下设置")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("内容")]),t._v(" "),_("th",[t._v("缓存行为")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("全部文件")]),t._v(" "),_("td",[t._v("全部文件")]),t._v(" "),_("td",[t._v("遵循源站")])]),t._v(" "),_("tr",[_("td",[t._v("文件后缀")]),t._v(" "),_("td",[t._v("jpg,js,html,png,css")]),t._v(" "),_("td",[t._v("缓存一天")])])])]),t._v(" "),_("p",[t._v("同时设置添加回源HTTP请求头")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("头部参数")]),t._v(" "),_("th",[t._v("头部取值")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("X-Forward-For")]),t._v(" "),_("td",[t._v("参考所使用服务商CDN文档来设置用户来源IP")])])])]),t._v(" "),_("p",[t._v("且您应当修改系统设置中的 "),_("code",[t._v("server.xff")]),t._v(" 值为 "),_("code",[t._v("X-Forwarded-For")]),t._v("，该设置是为了能够让系统正确获取到用户的IP地址。")])])}),[],!1,null,null,null);v.default=r.exports}}]);